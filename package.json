{
  "name": "root",
  "private": true,
  "scripts": {
    "lerna": "lerna",
    "package": "lerna run package --stream",
    "package:ui": "lerna run package:ui --stream",
    "package:bot": "lerna run package:bot --stream",
    "package:start": "lerna run package:start --stream",
    "package:ui:start": "lerna run package:ui:start --stream",
    "package:bot:start": "lerna run package:bot:start --stream",
    "watch": "lerna run watch --stream",
    "watch:ui": "lerna run watch:ui --stream",
    "watch:lang": "lerna run watch:lang --stream",
    "watch:bot": "lerna run watch:bot --stream",
    "start": "lerna run start --stream",
    "start:ui": "lerna run start:ui --stream",
    "start:bot": "lerna run start:bot --stream",
    "dev": "lerna run dev --stream",
    "dev:ui": "lerna run dev:ui --stream",
    "dev:bot": "lerna run dev:bot --stream",
    "dev:common": "lerna run dev:common --stream",
    "build": "lerna run build --stream",
    "build:ui": "lerna run build:ui --stream",
    "build:bot": "lerna run build:bot --stream",
    "build:common": "lerna run build:common --stream",
    "build:lang": "lerna run build:lang --stream",
    "bootstrap": "lerna bootstrap",
    "publish:info": "lerna ls -l",
    "publish:major": "lerna version major --no-push -y && lerna publish from-package -y",
    "publish:minor": "lerna version minor --no-push -y && lerna publish from-package -y",
    "publish:patch": "lerna version patch --no-push -y && lerna publish from-package -y",
    "publish:prepatch": "lerna version prepatch --no-push -y && lerna publish from-package -y",
    "infra:get:recent": "kubectl get pods --sort-by=.status.startTime",
    "infra:prom2:forward": "kubectl port-forward prometheus 9090 -n kube-system",
    "infra:prom:forward": "kubectl port-forward svc/kube-prometheus-stack-prometheus 9090 -n kube-prometheus-stack",
    "infra:grafana": "yarn run infra:grafana:forward && yarn run infra:grafana:open",
    "infra:grafana:open": "start http://localhost:8080",
    "infra:grafana:forward": "kubectl port-forward svc/kube-prometheus-stack-grafana 8080:80 -n kube-prometheus-stack",
    "infra:update-credentials": "doctl kubernetes cluster kubeconfig save rollem-sfo2",
    "infra:update-credentials:old": "doctl kubernetes cluster kubeconfig save rollem-old-sfo2",
    "infra:replace:next:old": "kubectl replace -f ./infra/k8s/rollem-next/",
    "infra:replace:prod:old": "kubectl replace -f ./infra/k8s/rollem-prod/",
    "infra:replace:ui:old": "kubectl replace -f ./infra/k8s/rollem-ui/",
    "infra:replace:services:old": "kubectl apply -f ./infra/k8s/services/",
    "infra:replace:ingress:old": "kubectl replace -f ./infra/k8s/ingress/",
    "infra:apply:next": "kubectl apply -f ./infra/k8s/rollem-next/",
    "infra:apply:prod": "kubectl apply -f ./infra/k8s/rollem-prod/",
    "infra:apply:masto": "kubectl apply -f ./infra/k8s/rollem-mastodon/",
    "infra:apply:ui": "kubectl apply -f ./infra/k8s/rollem-ui/",
    "infra:apply:services": "kubectl apply -f ./infra/k8s/services/",
    "infra:apply:ingress": "kubectl apply -f ./infra/k8s/ingress/",
    "infra:debug:busybox": "kubectl run -it --rm --restart=Never busybox --image=gcr.io/google-containers/busybox sh",
    "infra:delete:evicted": "kubectl get pods | grep Evicted | awk '{print $1}' | xargs kubectl delete pod",
    "infra:delete:error": "kubectl get pods | grep Error | awk '{print $1}' | xargs kubectl delete pod",
    "infra:delete:unknown": "kubectl get pods | grep ContainerStatusUnknown | awk '{print $1}' | xargs kubectl delete pod",
    "infra:delete:bad": "kubectl get pods | grep -e Evicted -e Error -e ContainerStatusUnknown -e OOMKilled -e ImagePullBackOff | awk '{print $1}' | xargs kubectl delete pod",
    "postpublish": "git push --tags"
  },
  "dependencies": {
    "lerna": "^4.0.0"
  }
}
